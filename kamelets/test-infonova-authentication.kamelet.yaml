apiVersion: camel.apache.org/v1alpha1
kind: Kamelet
metadata:
  name: test-infonova-authentication
  annotations:
    camel.apache.org/catalog.version: "1.8.0"
    camel.apache.org/kamelet.icon: "data:image/jpeg;base64,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"
    camel.apache.org/provider: "Red Hat"
    camel.apache.org/kamelet.group: "Beyond logging"
  labels:
    camel.apache.org/kamelet.type: sink
spec:
  definition:
    title: "Infonova Call"
    description: |-
      Makes a call to an infonova endpoint with oauth2 bearer token in the header. Details are set in the application properties file
      The Kamelet expects the following header:
      - `partition` / `ce-partition`: to set the Kinesis partition key
      If the header won't be set the exchange ID will be used.
      The Kamelet is also able to recognize the following header:
      - `sequence-number` / `ce-sequencenumber`: to set the Sequence number
      This header is optional.
    required:
      - uri
      - method
    type: object
    properties:
      uri:
        title: Infonova URI
        description: The path of an infonova api
        type: string
      method:
        title: Http Method
        description: Http Method required for the call  e.g. post, put, patch, delete
        type: string
  dependencies:
    - camel:core
    - "camel:kamelet"
    - "camel:http"
    - "camel:http"
  template:
    from:
      uri: "kamelet:source"
      steps:
      - setProperty:
          name: infonovaCallBody
          expression:
            simple:
              expression: ${dollar}{body}
      - choice:
          when:
            - expression:
                simple:
                  expression: ${dollar}{header.Authorization} == null
              steps:
                - setHeader:
                    name: Content-Type
                    expression:
                      simple:
                        expression: application/x-www-form-urlencoded
                - log:
                    message: >-
                      grant_type=client_credentials&client_id=${dollar}{properties:keycloak.clientId}&client_secret=${dollar}{properties:keycloak.clientSecret}
                - setBody:
                    expression:
                      simple:
                        expression: >-
                          grant_type=client_credentials&client_id=${dollar}{properties:keycloak.clientId}&client_secret=${dollar}{properties:keycloak.clientSecret}
                - removeHeader:
                    name: Exchange.HTTP_URI
                - set-header:
                    name: CamelHttpMethod
                    constant: POST
                - toD: "https://{{infonova.basepath}}/auth/realms/{{infonova.realm}}/protocol/openid-connect/token"
                - unmarshal:
                    json:
                      library: jackson
                      unmarshalType: java.util.Map
                - log:
                    message: >-
                      Post logging message
                      ${dollar}{camelContext.getClass.getName}
                      ${dollar}{exchangeProperty.keycloakclient} and
                      ${dollar}{header.Authorization}
                - setHeader:
                    name: Authorization
                    expression:
                      simple:
                        expression: Bearer ${dollar}{body.get('access_token')}
      - setBody:
          expression:
            simple:
              expression: "${dollar}{exchange.getProperty('infonovaCallBody')}"
      - log:
          message: Call body is ${dollar}{body}
      - set-header:
          name: CamelHttpMethod
          constant: "{{method}}"
      - toD: "https://{{infonova.basepath}}/r6-api/{{infonova.tenant}}{{uri}}"
      - log:
          message: The body is ${dollar}{body}
